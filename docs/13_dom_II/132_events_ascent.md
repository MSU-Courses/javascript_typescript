# Всплытие событий

Одной из тем, которая часто вызывает затруднения, является всплытие и погружение событий. Давайте рассмотрим эту тему более детально.

## Что такое всплытие событий?

Для иллюстрации всплытия давайте рассмотрим следующую HTML-разметку:

```html
<div onclick="console.log("Hello, world")">
    <p>Кликли</p>
</div>
```

При нажатии на элемент `<p>` мы увидим в консоли сообщение `Hello, world`. Но почему? Ведь обработчик события привязан только к элементу `<div>`.

> [!TIP]
> Ответ прост: при возникновении события на элементе сначала обрабатывается это событие на самом элементе, затем на его родителе, затем на родителе родителя и так далее, вверх по иерархии DOM.

Давайте рассмотрим следующий пример HTML-разметки:

```html
<div onclick="console.log('div is clicked')">
    <p onclick="console.log('p1 is clicked')">
        <b onclick="console.log('b is clicked')"></b>
    </p>
</div>
```

Когда мы нажимаем на элемент `<b>`, на экране выводится следующее:

```
b is clicked
p1 is clicked
div is clicked
```

Это происходит из-за **механизма всплытия событий в DOM**. Всплытие подразумевает, что сначала обработчик события вызывается на самом элементе, затем на его родительском элементе, и так далее вверх по иерархии, если у родителей также есть обработчики для этого события.

> [!IMPORTANT]
> Это свойство присутствует у **практически** всех событий, но, например, у события `focus` его нет.

## Остановка всплытия

Для предотвращения всплытия события и его дальнейшего распространения необходимо использовать метод `stopPropagation()`.

```html
<div onclick="console.log('div is clicked')">
    <p onclick="console.log('p1 is clicked'); event.stopPropagation();">
        <b onclick="console.log('b is clicked')"></b>
    </p>
</div>
```

В данном случае будет выведено:

```
b is clicked
p1 is clicked
```

Таким образом, событие не доходит до элемента `div`, так как было остановлено на элементе `<p>`.